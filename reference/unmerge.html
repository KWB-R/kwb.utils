<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Invert the Merging of two Data Frames — unmerge • kwb.utils</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Invert the Merging of two Data Frames — unmerge" />

<meta property="og:description" content="Split a data frame z into two data frames x and y so
that merge(x, y) is z." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">kwb.utils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/functions_array.html">Array/Matrix Functions</a>
    </li>
    <li>
      <a href="../articles/functions_call.html">Calling Functions</a>
    </li>
    <li>
      <a href="../articles/functions_check.html">Check Functions</a>
    </li>
    <li>
      <a href="../articles/functions_conversion.html">Conversion Functions</a>
    </li>
    <li>
      <a href="../articles/functions_crypto.html">Cryptographic Functions</a>
    </li>
    <li>
      <a href="../articles/functions_data_frame.html">Functions Working on Data Frames</a>
    </li>
    <li>
      <a href="../articles/functions_debug.html">Debug Functions</a>
    </li>
    <li>
      <a href="../articles/functions_dictionary.html">Grammar/Dictionary Functions</a>
    </li>
    <li>
      <a href="../articles/functions_if.html">Shortcut Functions to if-statements</a>
    </li>
    <li>
      <a href="../articles/functions_in_out.html">Input and Output Functions</a>
    </li>
    <li>
      <a href="../articles/functions_list.html">Functions Working on Lists</a>
    </li>
    <li>
      <a href="../articles/functions_logical.html">Functions Returning Logical</a>
    </li>
    <li>
      <a href="../articles/functions_object.html">General Object Functions</a>
    </li>
    <li>
      <a href="../articles/functions_stats.html">Mathematical or Statistical Functions</a>
    </li>
    <li>
      <a href="../articles/functions_string.html">String Functions</a>
    </li>
    <li>
      <a href="../articles/functions_system.html">Operating System Functions</a>
    </li>
    <li>
      <a href="../articles/functions_ungrouped.html">Non-Categorised Functions</a>
    </li>
    <li>
      <a href="../articles/functions_vector.html">Vector Functions</a>
    </li>
    <li>
      <a href="../articles/overview.html">Overview</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kwb-r/kwb.utils">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Invert the Merging of two Data Frames</h1>
    <small class="dont-index">Source: <a href='https://github.com/kwb-r/kwb.utils/blob/master/R/merge.R'><code>R/merge.R</code></a></small>
    <div class="hidden name"><code>unmerge.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Split a data frame <code>z</code> into two data frames <code>x</code> and <code>y</code> so
that <code><a href='https://www.rdocumentation.org/packages/base/topics/merge'>merge(x, y)</a></code> is <code>z</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>unmerge</span>(<span class='no'>z</span>, <span class='no'>by</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>z</th>
      <td><p>data frame</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>vector of names of columns in <code>z</code> that are used to build 
groups of rows of <code>z</code> so that within each group the values in these 
columns do not change. For each group the columns being constant over all 
rows are identified. Columns that are constant in each group will appear in
the data frame <code>x</code> whereas the remaining columns will appear in the 
data frame <code>y</code> of the returned list.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>list with two elements <code>x</code> and <code>y</code> each of which are data 
  frames containing at least the columns given in <code>by</code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>z</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"peter"</span>, <span class='st'>"peter"</span>, <span class='st'>"paul"</span>, <span class='st'>"mary"</span>, <span class='st'>"paul"</span>, <span class='st'>"mary"</span>),
  <span class='kw'>age</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>42</span>, <span class='fl'>42</span>, <span class='fl'>31</span>, <span class='fl'>28</span>, <span class='fl'>31</span>, <span class='fl'>28</span>),
  <span class='kw'>height</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>181</span>, <span class='fl'>181</span>, <span class='fl'>178</span>, <span class='fl'>172</span>, <span class='fl'>178</span>, <span class='fl'>172</span>),
  <span class='kw'>subject</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"maths"</span>, <span class='st'>"bio"</span>, <span class='st'>"bio"</span>, <span class='st'>"bio"</span>, <span class='st'>"chem"</span>, <span class='st'>"maths"</span>),
  <span class='kw'>year</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2016</span>, <span class='fl'>2017</span>, <span class='fl'>2017</span>, <span class='fl'>2017</span>, <span class='fl'>2015</span>, <span class='fl'>2016</span>),
  <span class='kw'>mark</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"A"</span>, <span class='st'>"C"</span>, <span class='st'>"b"</span>)
)

<span class='co'># What fields seem to be properties of objects identified by name?</span>
<span class='co'># -&gt; Age and height are fix properties of the persons identified by name</span>
(<span class='no'>result1</span> <span class='kw'>&lt;-</span> <span class='fu'>unmerge</span>(<span class='no'>z</span>, <span class='st'>"name"</span>))</div><div class='output co'>#&gt; $x
#&gt;    name age height
#&gt; 1 peter  42    181
#&gt; 3  paul  31    178
#&gt; 4  mary  28    172
#&gt; 
#&gt; $y
#&gt;    name subject year mark
#&gt; 1 peter   maths 2016    A
#&gt; 2 peter     bio 2017    B
#&gt; 3  paul     bio 2017    B
#&gt; 4  mary     bio 2017    A
#&gt; 5  paul    chem 2015    C
#&gt; 6  mary   maths 2016    b
#&gt; </div><div class='input'>
<span class='co'># What fields seem to be properties of objects identified by subject?</span>
<span class='co'># -&gt; It seems that the subjects have been tested in different years</span>
(<span class='no'>result2</span> <span class='kw'>&lt;-</span> <span class='fu'>unmerge</span>(<span class='no'>z</span>, <span class='st'>"subject"</span>))</div><div class='output co'>#&gt; $x
#&gt;   subject year
#&gt; 1   maths 2016
#&gt; 2     bio 2017
#&gt; 5    chem 2015
#&gt; 
#&gt; $y
#&gt;   subject  name age height mark
#&gt; 1   maths peter  42    181    A
#&gt; 2     bio peter  42    181    B
#&gt; 3     bio  paul  31    178    B
#&gt; 4     bio  mary  28    172    A
#&gt; 5    chem  paul  31    178    C
#&gt; 6   maths  mary  28    172    b
#&gt; </div><div class='input'>
<span class='co'># Test if merge(result$x, result$y) results in z</span>
<span class='no'>y1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/merge'>merge</a></span>(<span class='no'>result1</span>$<span class='no'>x</span>, <span class='no'>result1</span>$<span class='no'>y</span>)
<span class='no'>y2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/merge'>merge</a></span>(<span class='no'>result2</span>$<span class='no'>x</span>, <span class='no'>result2</span>$<span class='no'>y</span>)

<span class='no'>columns</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sort'>sort</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>z</span>))

<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/identical'>identical</a></span>(<span class='fu'><a href='fullySorted.html'>fullySorted</a></span>(<span class='no'>z</span>[, <span class='no'>columns</span>]), <span class='fu'><a href='fullySorted.html'>fullySorted</a></span>(<span class='no'>y1</span>[, <span class='no'>columns</span>])) <span class='co'># TRUE</span></div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/identical'>identical</a></span>(<span class='fu'><a href='fullySorted.html'>fullySorted</a></span>(<span class='no'>z</span>[, <span class='no'>columns</span>]), <span class='fu'><a href='fullySorted.html'>fullySorted</a></span>(<span class='no'>y2</span>[, <span class='no'>columns</span>])) <span class='co'># TRUE</span></div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Hauke Sonnenberg.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '18bee084719187fe8f77ebc6bd25f9ca',
    indexName: 'kwb_utils',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

